<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÄÄƒng nháº­p - Ná»™i tháº¥t tráº» em</title>
    <link rel="stylesheet" href="../css/login.css" />
    <style>
        /* CSS nhá» cho icon máº¯t */
        .password-container {
            position: relative;
            width: 100%;
        }
        .password-container input {
            width: 100%;
            padding-right: 35px;
        }
        .toggle-password {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            font-size: 18px;
            color: #666;
        }
        .error {
            color: red;
            font-size: 13px;
            text-align: left;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
<div class="auth-container">
    <div class="auth-box">
        <!-- ÄÄ‚NG NHáº¬P -->
        <form id="login-form" class="form active">
            <h2>ÄÄƒng nháº­p</h2>
            <input type="text" placeholder="TÃªn Ä‘Äƒng nháº­p hoáº·c Email" required />

            <div class="password-container">
                <input
                        type="password"
                        id="login-password"
                        placeholder="Máº­t kháº©u"
                        required
                />
                <span class="toggle-password" onclick="togglePassword('login-password', this)">ğŸ‘ï¸</span>
            </div>

            <button type="submit">ÄÄƒng nháº­p</button>
            <p class="switch">
                ChÆ°a cÃ³ tÃ i khoáº£n?
                <a href="#" onclick="showForm('register')">ÄÄƒng kÃ½</a>
            </p>
            <p class="forgot">
                <a href="#" onclick="showForm('forgot')">QuÃªn máº­t kháº©u?</a>
            </p>
        </form>

        <!-- ÄÄ‚NG KÃ -->
        <form id="register-form" class="form">
            <h2>ÄÄƒng kÃ½</h2>
            <input type="text" placeholder="TÃªn ngÆ°á»i dÃ¹ng" required />
            <input type="email" placeholder="Email" required />

            <div class="password-container">
                <input
                        type="password"
                        id="register-password"
                        placeholder="Máº­t kháº©u"
                        required
                />
                <span class="toggle-password" onclick="togglePassword('register-password', this)">ğŸ‘ï¸</span>
            </div>

            <div class="password-container">
                <input
                        type="password"
                        id="confirm-password"
                        placeholder="XÃ¡c nháº­n máº­t kháº©u"
                        required
                />
                <span class="toggle-password" onclick="togglePassword('confirm-password', this)">ğŸ‘ï¸</span>
            </div>

            <p id="password-error" class="error"></p>
            <button type="submit">Táº¡o tÃ i khoáº£n</button>
            <p class="switch">
                ÄÃ£ cÃ³ tÃ i khoáº£n?
                <a href="#" onclick="showForm('login')">ÄÄƒng nháº­p</a>
            </p>
        </form>

        <!-- QUÃŠN Máº¬T KHáº¨U -->
        <form id="forgot-form" class="form">
            <h2>QuÃªn máº­t kháº©u</h2>
            <input type="email" placeholder="Nháº­p email cá»§a báº¡n" required />
            <button type="submit">Gá»­i liÃªn káº¿t Ä‘áº·t láº¡i</button>
            <p class="switch">
                Quay láº¡i
                <a href="#" onclick="showForm('login')">ÄÄƒng nháº­p</a>
            </p>
        </form>
    </div>
</div>

<script>
    // --- Chuyá»ƒn Ä‘á»•i form ---
    function showForm(formName) {
        const forms = document.querySelectorAll(".form");
        forms.forEach((f) => f.classList.remove("active"));
        document.getElementById(`${formName}-form`).classList.add("active");
    }

    // --- Hiá»‡n / áº¨n máº­t kháº©u ---
    function togglePassword(inputId, icon) {
        const input = document.getElementById(inputId);
        if (input.type === "password") {
            input.type = "text";
            icon.textContent = "ğŸ™ˆ";
        } else {
            input.type = "password";
            icon.textContent = "ğŸ‘ï¸";
        }
    }

    // --- Kiá»ƒm tra máº­t kháº©u ---
    const registerForm = document.getElementById("register-form");
    const passwordInput = document.getElementById("register-password");
    const confirmPasswordInput = document.getElementById("confirm-password");
    const errorText = document.getElementById("password-error");

    registerForm.addEventListener("submit", function (e) {
        const password = passwordInput.value;
        const confirmPassword = confirmPasswordInput.value;

        // Biá»ƒu thá»©c kiá»ƒm tra Ä‘á»™ máº¡nh
        const passwordRegex =
            /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;

        if (!passwordRegex.test(password)) {
            e.preventDefault();
            errorText.textContent =
                "Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 8 kÃ½ tá»±, bao gá»“m chá»¯ hoa, chá»¯ thÆ°á»ng, sá»‘ vÃ  kÃ½ tá»± Ä‘áº·c biá»‡t.";
            return;
        }

        if (password !== confirmPassword) {
            e.preventDefault();
            errorText.textContent = "Máº­t kháº©u xÃ¡c nháº­n khÃ´ng khá»›p.";
            return;
        }

        errorText.textContent = "";
    });
</script>
</body>
</html>
